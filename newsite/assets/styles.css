:root{
  --bg:#fbf7f1;--ink:#142a2f;--muted:#2b4b51;--accent:#f06736;
  --card:#fffdf9;--line:rgba(20,42,47,.08);
  --ink-soft: color-mix(in oklab, var(--ink) 70%, white 30%);
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{margin:0;background:var(--bg);color:var(--ink);
  font:16px/1.6 Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial}
img{max-width:100%;display:block}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}

.container{max-width:1080px;margin:0 auto;padding:24px}
.skip{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip:focus{position:static;width:auto;height:auto;background:#fff;padding:8px;border-radius:8px}

.nav{position:sticky;top:0;background:color-mix(in oklab, var(--bg) 85%, white 15%);
  border-bottom:1px solid var(--line);backdrop-filter:saturate(180%) blur(10px);z-index:10}
.nav .inner{display:flex;align-items:center;justify-content:space-between;gap:16px}
.brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.5px}
.brand img{height:34px;width:34px;border-radius:8px}
nav ul{display:flex;gap:16px;list-style:none;margin:0;padding:0}
nav a{font-weight:600;color:var(--muted)}
nav .cta{background:var(--accent);color:#fff;padding:8px 14px;border-radius:10px}
nav .pay-now-nav{background:#0ea5e9;color:#fff;padding:8px 14px;border-radius:10px;font-weight:700}
nav .pay-now-nav:hover{filter:brightness(.97);text-decoration:none}

.hero{display:grid;grid-template-columns:1.2fr 1fr;align-items:center;gap:24px;padding:36px 0}
.hero h1{font-size:48px;line-height:1.05;margin:.2em 0}
.hero p{font-size:18px;opacity:.9}
.hero .art{text-align:center}

.badge{background:#ffe5d8;color:#8a3a1f;padding:2px 10px;border-radius:999px;font-weight:700;font-size:12px}

.grid{display:grid;gap:16px;grid-template-columns:repeat(3,1fr)}
.gap-24{gap:24px}

.card{background:var(--card);border:1px solid var(--line);padding:18px;border-radius:16px;
  box-shadow:0 2px 0 rgba(0,0,0,.03)}
.card .h3 + .meta-row + .desc{min-height:48px}
.card{display:flex;flex-direction:column}
.card .actions{margin-top:auto}
.h3{font-size:22px;margin:6px 0}

.btn{display:inline-grid;grid-auto-flow:column;align-items:center;gap:10px;
  background:var(--accent);color:#fff;padding:12px 16px;border-radius:12px;font-weight:700;
  text-decoration:none;border:none;cursor:pointer;position:relative;overflow:hidden;
  transition:transform .2s ease, box-shadow .2s ease, filter .2s ease}
.btn.free-cta{background:#22c55e;font-size:18px;padding:16px 24px}
.btn.free-cta::after{content:"";position:absolute;top:-50%;left:-30%;width:30%;height:200%;
  background:linear-gradient(120deg, rgba(255,255,255,.35), rgba(255,255,255,0));
  transform:skewX(-20deg);animation:btn-shine 2.2s infinite;pointer-events:none}
.btn.pay-now{background:#0ea5e9}
.btn.pay-now:hover{filter:brightness(.97)}
.btn:hover{filter:brightness(.97);transform:translateY(-1px);box-shadow:0 10px 20px rgba(0,0,0,.08)}
.btn:focus-visible{outline:2px solid #000;outline-offset:2px}

.id-actions{display:grid;gap:10px;grid-template-columns:1fr}
.id-btn{justify-content:center}
.id-btn.dark{background:#142a2f}
.id-btn.google{background:#3e7fe6}
.id-btn svg{width:18px;height:18px}

.muted{color:var(--ink-soft)}
.fine{font-size:13px;color:var(--ink-soft);margin:6px 0 0}

.stack{display:grid;gap:12px;max-width:560px}
/* utility for two equal columns */
.stack.two{grid-template-columns:1fr 1fr}
input,textarea,select{width:100%;padding:12px;border:1px solid rgba(20,42,47,.2);
  border-radius:10px;background:#fff}
label{display:grid;gap:6px;font-weight:600;color:var(--muted)}
.hidden{display:none}

section+section{margin-top:28px}
.footer{border-top:1px solid var(--line);margin-top:40px}
.footer .inner{display:flex;flex-wrap:wrap;gap:12px;justify-content:space-between;align-items:center;
  padding:28px 0;font-size:14px;opacity:.85}

table{width:100%;border-collapse:collapse;background:var(--card);
  border:1px solid var(--line);border-radius:16px;overflow:hidden}
th,td{padding:12px;border-bottom:1px solid var(--line);text-align:left}

.pricing{display:grid;gap:16px;grid-template-columns:repeat(3,1fr)}
.price{font-size:36px;margin:8px 0}
.price-link{color:var(--accent); text-decoration:none}
.price-link:hover{text-decoration:underline}

@media (max-width:900px){
  .hero{grid-template-columns:1fr}
  .grid{grid-template-columns:1fr 1fr}
  .pricing{grid-template-columns:1fr}
  nav ul{gap:10px}
}
@media (max-width:600px){
  .grid{grid-template-columns:1fr}
  .hero h1{font-size:36px}
}

/* Trust Signals Styles */
.trust-signals {
  margin-top: 24px;
  padding-top: 24px;
  border-top: 1px solid var(--line);
}

.testimonial {
  margin-bottom: 20px;
}

.testimonial blockquote {
  font-style: italic;
  font-size: 16px;
  line-height: 1.5;
  color: var(--ink);
  margin: 0 0 8px 0;
  padding: 0;
  border-left: 3px solid var(--accent);
  padding-left: 16px;
}

.testimonial cite {
  font-size: 14px;
  color: var(--muted);
  font-style: normal;
  font-weight: 500;
}

.stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  margin-top: 20px;
}

.stat {
  text-align: center;
  padding: 16px 12px;
  background: rgba(240, 103, 54, 0.05);
  border-radius: 12px;
  border: 1px solid rgba(240, 103, 54, 0.1);
}

.stat-number {
  display: block;
  font-size: 24px;
  font-weight: 800;
  color: var(--accent);
  line-height: 1;
  margin-bottom: 4px;
}

.stat-label {
  font-size: 13px;
  color: var(--muted);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

@media (max-width: 600px) {
  .stats {
    grid-template-columns: 1fr;
    gap: 12px;
  }
  
  .stat {
    padding: 12px 8px;
  }
  
  .stat-number {
    font-size: 20px;
  }
}

/* Payment Page Styles */
.order-item {
  padding: 20px;
  background: rgba(240, 103, 54, 0.05);
  border-radius: 12px;
  border: 1px solid rgba(240, 103, 54, 0.1);
}

.order-item h3 {
  margin: 0 0 12px 0;
  color: var(--accent);
}

.order-item .price {
  font-size: 24px;
  font-weight: 800;
  color: var(--accent);
  margin: 16px 0;
}

.order-item ul {
  margin: 16px 0 0 0;
  padding-left: 20px;
}

.order-item li {
  margin: 8px 0;
  color: var(--ink-soft);
}

.payment-options {
  display: grid;
  gap: 12px;
  margin: 20px 0;
}

.payment-option {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  border: 2px solid var(--line);
  border-radius: 12px;
  cursor: pointer;
  transition: border-color 0.2s ease;
}

.payment-option:hover {
  border-color: var(--accent);
}

.payment-option input[type="radio"] {
  width: auto;
  margin: 0;
}

.payment-option label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  margin: 0;
  font-weight: 600;
}

.payment-icon {
  font-size: 20px;
}

.payment-form {
  margin-top: 24px;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

@media (max-width: 600px) {
  .form-row {
    grid-template-columns: 1fr;
  }
}

/* Quiz Component Styles */
.quiz-container {
  background: var(--card);
  border-radius: 16px;
  padding: 24px;
  margin: 24px 0;
  box-shadow: 0 2px 0 rgba(0,0,0,.03);
}

.quiz-header {
  text-align: center;
  margin-bottom: 24px;
}

.quiz-header h2 {
  color: var(--accent);
  margin: 0 0 12px 0;
}

.progress {
  color: var(--muted);
  font-size: 14px;
  font-weight: 600;
}

.question-container {
  margin-bottom: 24px;
}

.question {
  font-size: 18px;
  color: var(--ink);
  margin: 0 0 20px 0;
  line-height: 1.5;
}

.options {
  display: grid;
  gap: 12px;
}

.option-btn {
  background: #fff;
  border: 2px solid var(--line);
  border-radius: 12px;
  padding: 16px;
  text-align: left;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
  color: var(--ink);
}

.option-btn:hover:not(:disabled) {
  border-color: var(--accent);
  background: rgba(240, 103, 54, 0.05);
}

.option-btn.selected {
  border-color: var(--accent);
  background: rgba(240, 103, 54, 0.1);
  color: var(--accent);
}

.option-btn.correct {
  border-color: #22c55e;
  background: rgba(34, 197, 94, 0.1);
  color: #22c55e;
}

.option-btn.incorrect {
  border-color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
  color: #ef4444;
}

.quiz-navigation {
  display: flex;
  justify-content: space-between;
  gap: 16px;
}

.nav-btn {
  padding: 12px 24px;
  font-size: 16px;
}

.nav-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.nav-btn.primary {
  background: var(--accent);
  color: white;
}

.quiz-results {
  text-align: center;
  padding: 32px;
}

.quiz-results h2 {
  color: var(--accent);
  margin: 0 0 24px 0;
}

.score-display {
  margin-bottom: 24px;
}

.score {
  font-size: 24px;
  font-weight: 800;
  color: var(--accent);
}

.total {
  font-weight: 600;
  color: var(--muted);
}

.percentage {
  font-size: 18px;
  color: var(--accent);
  font-weight: 600;
  margin: 8px 0;
}

.reset-btn {
  background: var(--accent);
  color: white;
  padding: 16px 32px;
  font-size: 18px;
}

@media (max-width: 600px) {
  .quiz-container {
    padding: 20px;
    margin: 16px 0;
  }
  
  .question {
    font-size: 16px;
  }
  
  .option-btn {
    padding: 14px;
    font-size: 15px;
  }
  
  .quiz-navigation {
    flex-direction: column;
  }
  
  .nav-btn {
    width: 100%;
  }
}

/* Quiz Loading Styles */
.quiz-loading {
  text-align: center;
  padding: 40px 20px;
  color: var(--muted);
}

.quiz-loading p {
  margin: 0 0 20px 0;
  font-size: 16px;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--line);
  border-top: 3px solid var(--accent);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Master Quiz Selector Styles */
.master-quiz-selector {
  padding: 20px 0;
}

.selector-header {
  text-align: center;
  margin-bottom: 32px;
}

.selector-header h2 {
  color: var(--accent);
  margin: 0 0 12px 0;
}

.selector-header p {
  color: var(--muted);
  font-size: 16px;
  margin: 0;
}

.quiz-filters {
  display: flex;
  gap: 16px;
  margin-bottom: 32px;
  flex-wrap: wrap;
  align-items: center;
}

.search-box {
  flex: 1;
  min-width: 200px;
}

.search-input {
  width: 100%;
  padding: 12px 16px;
  border: 2px solid var(--line);
  border-radius: 8px;
  font-size: 16px;
  background: white;
}

.search-input:focus {
  outline: none;
  border-color: var(--accent);
}

.filter-controls {
  display: flex;
  gap: 12px;
}

.filter-select {
  padding: 12px 16px;
  border: 2px solid var(--line);
  border-radius: 8px;
  font-size: 16px;
  background: white;
  cursor: pointer;
}

.filter-select:focus {
  outline: none;
  border-color: var(--accent);
}

.quiz-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
  margin-bottom: 32px;
}

.quiz-card {
  background: white;
  border: 2px solid var(--line);
  border-radius: 12px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.quiz-card:hover {
  border-color: var(--accent);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.quiz-card-header h3 {
  margin: 0 0 12px 0;
  color: var(--ink);
  font-size: 18px;
  line-height: 1.4;
}

.quiz-meta {
  display: flex;
  gap: 8px;
  margin-bottom: 16px;
}

.level-badge, .topic-badge {
  background: var(--accent);
  color: white;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
}

.topic-badge {
  background: var(--muted);
}

.quiz-card-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.quiz-card-content p {
  margin: 0;
  color: var(--muted);
  font-size: 14px;
}

.start-quiz-btn {
  background: var(--accent);
  color: white;
  padding: 8px 16px;
  font-size: 14px;
}

.no-results {
  text-align: center;
  padding: 40px 20px;
  color: var(--muted);
}

.no-results p {
  margin: 0 0 16px 0;
  font-size: 16px;
}

.back-btn {
  background: var(--muted);
  color: white;
  margin-bottom: 16px;
}

.result-actions {
  display: flex;
  gap: 16px;
  justify-content: center;
}

@media (max-width: 768px) {
  .quiz-filters {
    flex-direction: column;
    align-items: stretch;
  }
  
  .search-box {
    min-width: auto;
  }
  
  .filter-controls {
    justify-content: center;
  }
  
  .quiz-grid {
    grid-template-columns: 1fr;
  }
  
  .result-actions {
    flex-direction: column;
    align-items: center;
  }
}

/* Button shine animation */
@keyframes btn-shine {
  0% { transform: translateX(-100%) skewX(-20deg); }
  100% { transform: translateX(200%) skewX(-20deg); }
}



/* Account page specific styles */
.account-section {
  margin-bottom: 32px;
}

.account-section h2 {
  margin-bottom: 20px;
}

.readonly-input {
  background-color: #f8f9fa;
  color: #6c757d;
}

.readonly-input:focus {
  outline: none;
  border-color: var(--accent);
}

.account-actions .btn {
  margin-top: 12px;
}

.delete-account {
  background: #dc3545 !important;
  color: white !important;
  font-weight: 600;
  padding: 12px 24px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.delete-account:hover {
  background: #c82333 !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(220, 53, 69, 0.3);
}

.delete-account:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(220, 53, 69, 0.3);
}

/* Button link style */
.btn-link {
  background: none;
  border: none;
  color: var(--accent);
  text-decoration: underline;
  cursor: pointer;
  font-size: inherit;
  padding: 0;
  margin: 0;
}

.btn-link:hover {
  color: var(--muted);
}

/* Auth message styling */
.auth-message {
  text-align: center;
  padding: 60px 20px;
}

.auth-message p {
  font-size: 18px;
  margin-bottom: 24px;
  color: var(--muted);
}

/* User info display */
.user-info {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 20px;
  margin: 20px 0;
}

.info-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid var(--line);
}

.info-item:last-child {
  border-bottom: none;
}

.info-item strong {
  color: var(--muted);
  font-weight: 600;
}

/* Form toggle functionality */
.form-toggle {
  margin-top: 16px;
  text-align: center;
}

.form-toggle .btn-link {
  background: none;
  border: none;
  color: var(--accent);
  text-decoration: underline;
  cursor: pointer;
  font-size: inherit;
  padding: 0;
  margin: 0;
}

.form-toggle .btn-link:hover {
  color: var(--muted);
}

/* Login page specific styles */
.login-page .hero {
  text-align: center;
}

.login-page .hero h1 {
  margin-bottom: 16px;
}

.login-page .hero p {
  font-size: 18px;
  margin-bottom: 24px;
}

.login-page .card {
  max-width: 400px;
  margin: 0 auto;
}

.login-page .stack {
  margin-top: 20px;
}

.login-page .btn-link {
  color: var(--accent);
  text-decoration: underline;
  background: none;
  border: none;
  cursor: pointer;
  font-size: inherit;
  padding: 0;
  margin: 0;
}

.login-page .btn-link:hover {
  color: var(--muted);
}

/* Navigation account button styling */
#account-nav {
  background: var(--accent);
  color: #fff;
  padding: 8px 14px;
  border-radius: 10px;
  font-weight: 600;
}

#account-nav:hover {
  filter: brightness(.97);
  text-decoration: none;
}

/* Error message styling */
.error-message {
  color: #dc3545;
  font-weight: 600;
  text-align: center;
  padding: 8px;
  background: #f8d7da;
  border: 1px solid #f5c6cb;
  border-radius: 8px;
  margin: 8px 0;
}

/* Google Sign-In button styling */
#g_id_onload {
  margin-bottom: 12px;
}

.g_id_signin {
  display: flex;
  justify-content: center;
  margin-bottom: 12px;
}

/* Ensure Google button fits well in the card */
.id-actions {
  text-align: center;
}

/* Hero actions styling */
.hero-actions {
  display: flex;
  gap: 12px;
  margin-top: 24px;
  flex-wrap: wrap;
}

/* Feature list styling */
.feature-list {
  list-style: none;
  padding: 0;
  margin: 16px 0;
}

.feature-list li {
  position: relative;
  padding-left: 24px;
  margin-bottom: 8px;
  line-height: 1.5;
}

.feature-list li::before {
  content: "✓";
  position: absolute;
  left: 0;
  color: var(--accent);
  font-weight: bold;
  font-size: 16px;
}

/* Pricing styles */
.price {
  font-size: 48px;
  font-weight: 700;
  color: var(--accent);
  margin: 16px 0 8px 0;
  line-height: 1;
}

.period {
  font-size: 18px;
  font-weight: 400;
  color: var(--muted);
}

.featured {
  border: 2px solid var(--accent);
  transform: scale(1.05);
  position: relative;
}

.featured::before {
  content: "Most Popular";
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--accent);
  color: white;
  padding: 4px 16px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
}

/* FAQ styling */
.faq-item {
  margin-bottom: 24px;
  padding-bottom: 24px;
  border-bottom: 1px solid var(--line);
}

/* Lessons: pills, chips, meta rows */
.pill{display:inline-block;padding:6px 12px;border-radius:999px;background:color-mix(in oklab, var(--bg) 70%, white 30%);border:1px solid var(--line);font-weight:700;font-size:13px;color:var(--muted)}
.pill.level{background:#eaf5ff;border-color:#cfe8ff;color:#0b5cab}
.pill.topic{background:#fef3e7;border-color:#f9dcc2;color:#8a3a1f}
.pill.grammar{background:#f1f5f9;border-color:#e2e8f0;color:#334155}
.meta-row{display:flex;flex-wrap:wrap;gap:10px;margin:8px 0 12px}
.desc{color:var(--ink-soft);margin-top:8px}

.chip{padding:8px 12px;border:1px solid var(--line);border-radius:999px;background:var(--card);cursor:pointer;font-weight:600}
.chip.active,.filter-button.active{background:var(--accent);color:#fff;border-color:transparent}
.filters-bar{display:flex;justify-content:space-between;align-items:center;margin:8px 0 12px}
.filters-card .group-title{font-weight:800;color:var(--muted);margin:0 0 8px}
.filters-grid{display:grid;gap:8px;grid-template-columns:repeat(6,minmax(0,1fr))}

/* Styled select */
.select{position:relative}
.select select{appearance:none;-webkit-appearance:none;-moz-appearance:none;background:#fff;border:1px solid var(--line);border-radius:12px;padding:10px 40px 10px 12px;font-weight:600;color:var(--muted);min-width:220px}
.select::after{content:"\25BC";position:absolute;right:12px;top:50%;transform:translateY(-50%);color:var(--muted);pointer-events:none}





.toggle .toggle-label{font-weight:800;color:var(--ink-soft);transition:color .25s ease, transform .25s ease, text-shadow .25s ease}
.switch.on+ .toggle-label{color:#0f874b;text-shadow:0 6px 18px rgba(16,185,129,.18);transform:translateY(-1px) scale(1.02);animation:pulseOn .35s ease}

@keyframes pulseOn{0%{transform:translateY(0) scale(1)}60%{transform:translateY(-1px) scale(1.04)}100%{transform:translateY(-1px) scale(1.02)}}

@media (max-width: 640px){
  .filters-bar{flex-direction:column;gap:16px}
  .level-chips{overflow-x:auto;flex-wrap:nowrap;-webkit-overflow-scrolling:touch;padding-bottom:6px;gap:6px}
  .level-chip{flex:0 0 auto;min-width:40px;height:40px;font-size:13px}
  .chipbar{display:flex;flex-wrap:nowrap;overflow-x:auto;gap:10px;-webkit-overflow-scrolling:touch;padding-bottom:6px}
  .chipbtn{flex:0 0 auto}
}



.level-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  min-height: 44px;
  outline: none;
  position: relative;
  z-index: 1;
}

.level-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 44px;
  height: 44px;
  padding: 0 12px;
  border-radius: 8px;
  border: 1px solid #d1d5db;
  background: transparent;
  color: #374151;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
  outline: none;
  white-space: nowrap;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  position: relative;
  z-index: 999;
  pointer-events: auto !important;
}

.level-chip:hover {
  border-color: #9ca3af;
  background: #f9fafb;
}

.level-chip:focus-visible {
  outline: 2px solid #10b981;
  outline-offset: 2px;
}

.level-chip.active {
  background: #10b981;
  color: white;
  border-color: #10b981;
}

.level-chip.active:hover {
  background: #059669;
  border-color: #059669;
}

.level-chip:disabled {
  opacity: 0.5;
  pointer-events: none;
  cursor: not-allowed;
}

/* Topic chips and toggle */
.chipbar{display:grid;grid-template-columns:repeat(4,minmax(140px,1fr));gap:10px;position:relative;z-index:1}
.chipbtn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;border:1px solid var(--line);background:var(--card);cursor:pointer;font-weight:700;color:var(--muted);justify-content:center;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;position:relative;z-index:999;pointer-events:auto !important}
.chipbtn.active{background:#0f874b;color:#fff;border-color:#0f874b}
.chipbtn svg{width:18px;height:18px;opacity:.95;stroke:currentColor;fill:none;stroke-width:2}

.toggle{display:inline-flex;align-items:center;gap:10px}
.switch{position:relative;width:56px;height:30px;background:#e7eef0;border-radius:999px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.06);transition:background .25s ease}
.switch .knob{position:absolute;top:4px;left:4px;width:22px;height:22px;border-radius:50%;background:#fff;transition:left .25s ease, background .25s ease;box-shadow:0 2px 6px rgba(0,0,0,.15)}
.switch.on{background:#0f874b33}
.switch.on .knob{left:30px;background:#0f874b}

/* PDF tag */
.pdf-tag{display:inline-flex;align-items:center;gap:6px;font-size:12px;font-weight:700;color:#8a3a1f;background:#fff7ed;border:1px solid #ffedd5;border-radius:999px;padding:4px 8px}
.pdf-tag::before{content:"PDF"}

/* Spacing tighten */
.filters-card{padding-bottom:16px;margin-bottom:8px}
.filters-card .group{padding-top:14px;margin-top:8px;border-top:1px solid var(--line);position:relative;z-index:1}
.filters-card .group:first-child{border-top:none}
.filters-card .group-title{font-weight:900;color:var(--muted);font-size:18px}
.filters-card .group-title + *{margin-top:10px}
.filters-bar{display:flex;justify-content:flex-start;align-items:flex-start;margin:8px 0 12px;row-gap:14px;gap:24px;position:relative;z-index:1}

.actions.two{display:grid;grid-template-columns:1fr 1fr;gap:12px;max-width:none}
.actions.two .btn{width:100%;justify-content:center}
.actions.two .btn:last-child{background:#000}

.actions.three{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;max-width:none}
.actions.three .btn{width:100%;justify-content:center;font-size:14px;padding:8px 12px}
.actions.three .btn:last-child{background:#10b981;color:white;border:none}
.actions.three .btn:last-child:hover{background:#059669}

/* Quiz Modal Styles */
.quiz-modal {
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(5px);
}

.quiz-modal-content {
  background-color: white;
  margin: 2% auto;
  padding: 0;
  border-radius: 12px;
  width: 90%;
  max-width: 800px;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.quiz-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 24px;
  border-bottom: 1px solid #e5e7eb;
  background-color: #f9fafb;
  border-radius: 12px 12px 0 0;
}

.quiz-modal-header h2 {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 600;
  color: #111827;
}

.quiz-modal-close {
  background: none;
  border: none;
  font-size: 2rem;
  cursor: pointer;
  color: #6b7280;
  padding: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  transition: all 0.2s;
}

.quiz-modal-close:hover {
  background-color: #f3f4f6;
  color: #374151;
}

#quiz-root {
  padding: 24px;
  min-height: 400px;
}

/* Quiz Button Styling */
.quiz-btn {
  background: #ea580c !important;
  color: white !important;
  border: none !important;
}

.quiz-btn:hover {
  background: #c2410c !important;
  color: white !important;
}

/* Quiz Container Styles */
.quiz-container {
  max-width: 600px;
  margin: 0 auto;
}

.quiz-header {
  text-align: center;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 2px solid #e5e7eb;
}

.quiz-header h3 {
  margin: 0 0 8px 0;
  color: #111827;
  font-size: 1.5rem;
}

.quiz-progress {
  color: #6b7280;
  font-size: 0.875rem;
  font-weight: 500;
}

.question-container {
  margin-bottom: 32px;
}

.question-text {
  font-size: 1.125rem;
  color: #111827;
  margin-bottom: 20px;
  line-height: 1.6;
}

.options-container {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.option-btn {
  background: white;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  padding: 16px;
  text-align: left;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 1rem;
  color: #374151;
}

.option-btn:hover {
  border-color: #8b5cf6;
  background-color: #f8fafc;
}

.option-btn.selected {
  border-color: #8b5cf6;
  background-color: #f3f4f6;
}

.option-btn.correct {
  border-color: #10b981;
  background-color: #ecfdf5;
  color: #065f46;
}

.option-btn.incorrect {
  border-color: #ef4444;
  background-color: #fef2f2;
  color: #991b1b;
}

.option-btn:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

.option-btn:disabled:hover {
  border-color: inherit;
  background-color: inherit;
}

.quiz-navigation {
  display: flex;
  justify-content: space-between;
  gap: 16px;
  margin-top: 24px;
}

.quiz-navigation .btn {
  flex: 1;
  max-width: 120px;
}

.show-answer-btn {
  background: #f59e0b !important;
  color: white !important;
}

.show-answer-btn:hover {
  background: #d97706 !important;
}

.answer-explanation {
  background: #f0f9ff;
  border: 1px solid #0ea5e9;
  border-radius: 8px;
  padding: 16px;
  margin-top: 20px;
}

.answer-explanation p {
  margin: 8px 0;
  color: #0c4a6e;
}

.quiz-results {
  text-align: center;
  padding: 32px 0;
}

.quiz-results h3 {
  color: #111827;
  margin-bottom: 24px;
  font-size: 1.75rem;
}

.score-display {
  background: #f9fafb;
  border-radius: 12px;
  padding: 24px;
  margin-bottom: 32px;
}

.score-display p {
  margin: 8px 0;
  font-size: 1.125rem;
  color: #374151;
}

.result-actions {
  display: flex;
  gap: 16px;
  justify-content: center;
}

.result-actions .btn {
  min-width: 140px;
}

.quiz-error {
  text-align: center;
  padding: 40px 20px;
  color: #6b7280;
}

.quiz-error p {
  font-size: 1.125rem;
  margin: 0;
}

/* Themed premium/download buttons */
.btn.premium{background:#414866 !important}
.btn.download{background:#0f874b !important}
.btn.premium::after,.btn.download::after{content:"";position:absolute;top:-50%;left:-30%;width:30%;height:200%;
  background:linear-gradient(120deg, rgba(255,255,255,.25), rgba(255,255,255,0));
  transform:skewX(-20deg);animation:btn-shine 2.6s infinite;pointer-events:none}
@keyframes btn-shine{0%{left:-30%}100%{left:130%}}

/* Fallback for older two-column stacks in lessons */
.stack[style*="grid-template-columns:1fr 1fr"] .btn{width:100%;justify-content:center}
.stack[style*="grid-template-columns:1fr 1fr"] .btn:last-child{background:#000}

.faq-item:last-child {
  border-bottom: none;
  margin-bottom: 0;
  padding-bottom: 0;
}

.faq-item h3 {
  margin-bottom: 8px;
  color: var(--accent);
}

.faq-item p {
  margin: 0;
  line-height: 1.6;
}

/* Thank You Page Styles */
.hero-subtitle {
  font-size: 20px;
  color: var(--ink-soft);
  margin-bottom: 24px;
}

.success-card {
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  padding: 32px;
  border-radius: 16px;
  text-align: center;
  margin: 24px 0;
  box-shadow: 0 10px 25px rgba(16, 185, 129, 0.2);
}

.success-icon {
  font-size: 48px;
  margin-bottom: 16px;
}

.success-card h2 {
  margin: 0 0 16px 0;
  font-size: 28px;
  color: white;
}

.success-card p {
  margin: 0;
  font-size: 18px;
  opacity: 0.95;
}

.steps-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 24px;
  margin-top: 24px;
}

.step {
  text-align: center;
  padding: 24px;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: var(--card);
}

.step-number {
  width: 48px;
  height: 48px;
  background: var(--accent);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  font-weight: 700;
  margin: 0 auto 16px;
}

.step h3 {
  margin: 0 0 12px 0;
  color: var(--ink);
}

.step p {
  margin: 0;
  color: var(--ink-soft);
  line-height: 1.6;
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-top: 24px;
}

.feature {
  text-align: center;
  padding: 20px;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: var(--card);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.feature:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
}

.feature-icon {
  font-size: 32px;
  margin-bottom: 16px;
}

.feature h3 {
  margin: 0 0 12px 0;
  color: var(--ink);
  font-size: 18px;
}

.feature p {
  margin: 0;
  color: var(--ink-soft);
  font-size: 14px;
  line-height: 1.5;
}

.action-buttons {
  display: flex;
  gap: 16px;
  justify-content: center;
  margin: 24px 0;
  flex-wrap: wrap;
}

.action-buttons .btn {
  min-width: 200px;
  text-align: center;
}

.faq-list {
  display: grid;
  gap: 20px;
  margin-top: 24px;
}

.faq-item {
  padding: 20px;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: var(--card);
}

.faq-item h3 {
  margin: 0 0 12px 0;
  color: var(--accent);
  font-size: 18px;
}

.faq-item p {
  margin: 0;
  color: var(--ink-soft);
  line-height: 1.6;
}

/* Responsive adjustments for thank you page */
@media (max-width: 768px) {
  .steps-grid {
    grid-template-columns: 1fr;
  }
  
  .features-grid {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-buttons .btn {
    width: 100%;
    max-width: 300px;
  }
  
  .success-card {
    padding: 24px;
  }
  
  .success-card h2 {
    font-size: 24px;
  }
  
  .success-card p {
    font-size: 16px;
  }
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .hero-actions {
    flex-direction: column;
    align-items: stretch;
  }
  
  .hero-actions .btn {
    text-align: center;
  }
  
  .featured {
    transform: none;
  }
  
  .price {
    font-size: 36px;
  }
  
  /* Ensure Google button is properly sized on mobile */
  .g_id_signin {
    transform: scale(0.9);
  }
  
  /* Make logout button more prominent on mobile */
  .delete-account {
    width: 100%;
    padding: 16px 24px;
    font-size: 18px;
  }
}